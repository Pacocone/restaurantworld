<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Mis Restaurantes</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="style.css">
<meta name="theme-color" content="#ff6d00">
<script defer src="countries.js"></script>
<script defer src="searchable-select.js"></script>
<script defer src="country-typing.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="firebase-config.js"></script>
<script defer src="script.js"></script>

</head>
<body>

<div id="authView" class="auth-overlay hidden">
  <div class="auth-card card">
    <h2 id="authTitle">Iniciar sesiÃ³n</h2>
    <label id="labelEmail">Correo</label>
    <input id="authEmail" type="email" placeholder="tu@correo.com" autocomplete="email">
    <label id="labelPassword">ContraseÃ±a</label>
    <input id="authPassword" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
    <div class="auth-actions">
      <button id="btnRegister">Crear cuenta</button>
      <button id="btnLogin">Entrar</button>
    </div>
    <button id="btnReset" class="linklike">Â¿Olvidaste la contraseÃ±a?</button>
    <div id="authMsg" class="muted"></div>
  </div>
</div>
<div id="usernameModal" class="modal hidden">
  <div class="card">
    <h3 id="usernameTitle">Elige tu nombre de usuario</h3>
    <input id="usernameInput" placeholder="Tu nombre de usuario">
    <div class="auth-actions">
      <button id="btnSaveUsername">Guardar</button>
    </div>
    <div id="usernameMsg" class="muted"></div>
  </div>
</div>

<header class="safe-area">
  <h1 id="titleApp">ğŸ½ï¸ Mis Restaurantes</h1>
  <div class="top-buttons" style="display:flex;gap:0.5rem;">
    <button id="langEs" title="EspaÃ±ol" style="font-size:2rem;">ğŸ‡ªğŸ‡¸</button>
    <button id="langEn" title="English" style="font-size:2rem;">ğŸ‡¬ğŸ‡§</button>
    <button id="themeToggleLight" title="Modo diurno">â˜€ï¸</button>
    <button id="themeToggleDark" title="Modo noche">ğŸŒ™</button>
      <button id="btnLogout" title="Salir">ğŸšª</button>
  </div>
</header>
<nav id="navTabs">
  <button data-tab="add" class="active">â• AÃ±adir visita</button>
  <button data-tab="summary">ğŸ“Š Resumen</button>
  <button data-tab="history">ğŸ“œ Historial</button>
  <button data-tab="explore">ğŸŒ Explorar</button>
  <button data-tab="friends">ğŸ‘¥ Amigos</button>
</nav>
<main id="appView">
  <section id="tab-add" class="tab active">
    <form id="visitForm">
      <label id="labelName" for="vName">Restaurante ğŸ´</label>
      <input id="vName" required>
      <label id="labelCity" for="vCity">Ciudad ğŸ™ï¸</label>
      <input id="vCity" required>
      <label id="labelCountry">PaÃ­s ğŸŒ</label>
      <select id="vCountry" required data-searchable="true" placeholder="Escribe un paÃ­s / Type a country"></select>
      <label id="labelDate" for="vDate">Fecha ğŸ“…</label>
      <input id="vDate" type="date" required>
      <label for="vDiners" id="labelDiners">NÃºmero de comensales ğŸ‘¥</label>
      <input id="vDiners" type="number" min="1" required>
      <label for="vTotal" id="labelTotal">Precio total ğŸ’°</label>
      <div class="price-row">
        <input id="vTotal" type="number" min="0" step="0.01" required>
        <select id="currencySelect" class="small-select">
          <option value="â‚¬">â‚¬</option>
          <option value="Â£">Â£</option>
          <option value="$">$</option>
          <option value="Ø¯.Ø¥">Ø¯.Ø¥</option>
          <option value="Â¥">Â¥</option>
          <option value="å…ƒ">å…ƒ</option>
        </select>
      </div>
      <label for="vAvg" id="labelAvg">Precio medio por comensal âš–ï¸</label>
      <input id="vAvg" type="text" readonly>
      <label for="vNotes" id="labelNotes">Observaciones ğŸ“</label>
      <textarea id="vNotes"></textarea>
      <label id="labelTicket">Ticket ğŸ“·</label>
      <input type="file" id="ticketInput" accept="image/*">
      <div id="ticketPreview" class="hidden">
        <img id="ticketImage" src="" alt="Ticket">
        <span id="removeTicket" class="trash-icon">ğŸ—‘ï¸</span>
      </div>
      <label id="labelRating">ValoraciÃ³n â­</label>
      <div id="stars">
        <span data-value="1">â˜†</span>
        <span data-value="2">â˜†</span>
        <span data-value="3">â˜†</span>
        <span data-value="4">â˜†</span>
        <span data-value="5">â˜†</span>
      </div>
      <input type="hidden" id="vRating" value="0">
      <button type="submit" class="glow-button">Guardar visita</button>
    </form>
  </section>
  <section id="tab-summary" class="tab"><div id="summary"></div></section>
  <section id="tab-history" class="tab"><label id="labelFilter">Filtrar por restaurante ğŸ½ï¸</label><select id="histFilter"></select><div id="history"></div></section>
  <section id="tab-explore" class="tab"><label id="labelCitySel">Selecciona ciudad ğŸŒ</label><select id="cityFilter"></select><label id="labelUserSel">Selecciona usuario ğŸ‘¤</label><select id="friendExplore"></select>
<label id="labelCountrySel">Selecciona paÃ­s ğŸŒ</label><select id="countryFilter" data-searchable="true" placeholder="Escribe un paÃ­s / Type a country"></select>
<label id="labelSearch">Buscar restaurante ğŸ”</label><input type="text" id="searchInput" placeholder="Escribe el nombre"><div id="explore"></div></section>
  <section id="tab-friends" class="tab"><label id="labelFriendSel">Selecciona amigo ğŸ¤</label><select id="friendSelect"></select><div id="friendView"></div></section>
</main>
</body>
</html>